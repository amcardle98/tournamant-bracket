<div class="container">
  <mat-card>
    <mat-card-content>
      <div class="controls-grid">
        <!-- Bracket Type Selection -->
        <div class="bracket-type">
          <h3>Bracket Type</h3>
          <mat-radio-group aria-label="Select bracket type">
            <mat-radio-button [value]="1">Single Elimination</mat-radio-button>
            <mat-radio-button [value]="2">Double Elimination</mat-radio-button>
          </mat-radio-group>
        </div>

        <!-- Number of Players Input -->
        <mat-form-field>
          <mat-label>Number of players</mat-label>
          <input matInput type="number" [(ngModel)]="numberOfPlayers" min="2" />
          <mat-error *ngIf="numberOfPlayers < 2"
            >At least 2 players are required</mat-error
          >
        </mat-form-field>

        <!-- Add Player Input -->
        <mat-form-field>
          <mat-label>Add player</mat-label>
          <input
            matInput
            [(ngModel)]="currentPlayerName"
            (keyup.enter)="addPlayer()"
            placeholder="Enter player name"
          />
        </mat-form-field>
      </div>

      <div class="buttons">
        <button
          mat-raised-button
          color="primary"
          (click)="addPlayer()"
          [disabled]="!currentPlayerName"
        >
          Add
        </button>
        <button
          mat-button
          color="warn"
          (click)="removeAll()"
          [disabled]="players.length === 0"
        >
          Remove all
        </button>
      </div>

      <!-- Players Table -->
      <app-player-list [dataSource]="players"></app-player-list>

      <!-- Generate Bracket Button -->
      <div class="generate-button">
        <button
          mat-raised-button
          color="primary"
          *ngIf="canStartTournament"
          (click)="generateTournament()"
          [disabled]="players.length < 2"
          aria-label="Generate bracket"
        >
          Generate Bracket
        </button>
      </div>
    </mat-card-content>
  </mat-card>
</div>
